<div class="app-banner app-banner--details app-offer-panel <%= border_class %>">
  <h2 class="govuk-heading-m">Course details</h2>
  <%= render SummaryCardComponent.new(rows: rows, border: false) %>

  <h2 class="govuk-heading-m">Conditions of offer</h2>

  <p class="govuk-body">Candidates are required to receive 2 references.</p>

  <% if FeatureFlag.active?(:provider_ske) %>
    <% unless wizard.no_ske_required? && wizard.no_languages_ske_required? %>
      <% if wizard.ske_language_flow? %>
        <% wizard.ske_reasons.each do |ske_reason| %>
          <%= render ProviderInterface::SkeConditionsComponent.new(ske_reason.language, wizard.ske_language_length_1, ske_reason.reason, language_flow: true) %>
        <% end %>
      <% else %>
        <%= render ProviderInterface::SkeConditionsComponent.new(application_choice.current_course.subjects.first.name, wizard.ske_length, wizard.ske_reason, language_flow: false) %>
      <% end %>
    <% end %>
  <% end %>

  <% if editable %>
    <% if @application_choice.pending_conditions? %>
      <div class='govuk-body'>
        <%= govuk_link_to 'Update status of conditions', update_conditions_path %>
      </div>
    <% end %>

    <% if @application_choice.offer? || show_conditions_link %>
      <div class='govuk-body'>
        <%= govuk_link_to 'Add or change conditions', [mode, :provider_interface, @application_choice, :offer, :conditions] %>
      </div>
    <% end %>
  <% end %>

  <%= render ProviderInterface::ConditionsListComponent.new(conditions) %>
</div>
