<div class="app-banner app-banner--details app-offer-panel <%= border_class %>">
  <h2 class="govuk-heading-m">Course details</h2>
  <%= render SummaryCardComponent.new(rows: rows, border: false) %>

  <h2 class="govuk-heading-m">Conditions of offer</h2>

  <% unless FeatureFlag.active?(:structured_reference_condition) %>
    <p class="govuk-body">Candidates are required to receive 2 references.</p>
  <% end %>

  <% if ske_conditions.present? %>
    <% ske_conditions.each do |ske_condition| %>
      <%= render ProviderInterface::SkeConditionsComponent.new(
        application_choice: @application_choice,
        course: @course,
        ske_condition:,
        editable: !@application_choice.accepted_choice?,
      ) %>
    <% end %>
  <% end %>

  <%= render ProviderInterface::ConditionsListComponent.new(conditions) %>

  <% if editable %>
    <% if @application_choice.pending_conditions? %>
      <div class='govuk-body'>
        <%= govuk_button_to 'Update status of conditions', update_conditions_path, form_class: 'govuk-!-display-inline-block' %>
      </div>
    <% end %>
    <% if @application_choice.offer? || show_conditions_link %>
      <div class='govuk-body'>
        <%= govuk_link_to 'Add or change conditions', [mode, :provider_interface, @application_choice, :offer, :conditions] %>
      </div>
    <% end %>
  <% end %>
</div>
