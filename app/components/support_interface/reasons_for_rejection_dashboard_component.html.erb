<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Candidate behaviour',
  total_count: total_rejection_count('candidate_behaviour_y_n'),
  this_month: current_month_rejection_count('candidate_behaviour_y_n'),
  percentage_rejected: percentage_rejected_for_reason('candidate_behaviour_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :candidate_behaviour_y_n,
  sub_reasons_result: sub_reasons_for(:candidate_behaviour_y_n),
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Quality of application',
  total_count: total_rejection_count('quality_of_application_y_n'),
  this_month: current_month_rejection_count('quality_of_application_y_n'),
  percentage_rejected: percentage_rejected_for_reason('quality_of_application_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :quality_of_application_y_n,
  sub_reasons_result: sub_reasons_for(:quality_of_application_y_n),
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Qualifications',
  total_count: total_rejection_count('qualifications_y_n'),
  this_month: current_month_rejection_count('qualifications_y_n'),
  percentage_rejected: percentage_rejected_for_reason('qualifications_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :qualifications_y_n,
  sub_reasons_result: sub_reasons_for(:qualifications_y_n),
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Performance at interview',
  total_count: total_rejection_count('performance_at_interview_y_n'),
  this_month: current_month_rejection_count('performance_at_interview_y_n'),
  percentage_rejected: percentage_rejected_for_reason('performance_at_interview_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :performance_at_interview_y_n,
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Course full',
  total_count: total_rejection_count('course_full_y_n'),
  this_month: current_month_rejection_count('course_full_y_n'),
  percentage_rejected: percentage_rejected_for_reason('course_full_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :course_full_y_n,
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Offered on another course',
  total_count: total_rejection_count('offered_on_another_course_y_n'),
  this_month: current_month_rejection_count('offered_on_another_course_y_n'),
  percentage_rejected: percentage_rejected_for_reason('offered_on_another_course_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :offered_on_another_course_y_n,
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Honesty and professionalism',
  total_count: total_rejection_count('honesty_and_professionalism_y_n'),
  this_month: current_month_rejection_count('honesty_and_professionalism_y_n'),
  percentage_rejected: percentage_rejected_for_reason('honesty_and_professionalism_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :honesty_and_professionalism_y_n,
  sub_reasons_result: sub_reasons_for(:honesty_and_professionalism_y_n),
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Safeguarding concerns',
  total_count: total_rejection_count('safeguarding_y_n'),
  this_month: current_month_rejection_count('safeguarding_y_n'),
  percentage_rejected: percentage_rejected_for_reason('safeguarding_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :safeguarding_y_n,
  sub_reasons_result: sub_reasons_for(:safeguarding_y_n),
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Cannot sponsor visa',
  total_count: total_rejection_count('cannot_sponsor_visa_y_n'),
  this_month: current_month_rejection_count('cannot_sponsor_visa_y_n'),
  percentage_rejected: percentage_rejected_for_reason('cannot_sponsor_visa_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :cannot_sponsor_visa_y_n,
  recruitment_cycle_year: recruitment_cycle_year,
) %>

<%= render SupportInterface::ReasonForRejectionDashboardSectionComponent.new(
  heading: 'Additional advice or feedback',
  total_count: total_rejection_count('other_advice_or_feedback_y_n'),
  this_month: current_month_rejection_count('other_advice_or_feedback_y_n'),
  percentage_rejected: percentage_rejected_for_reason('other_advice_or_feedback_y_n'),
  total_rejection_count: total_structured_rejection_reasons_count,
  total_rejection_count_this_month: total_structured_rejection_reasons_count_this_month,
  reason_key: :other_advice_or_feedback_y_n,
  recruitment_cycle_year: recruitment_cycle_year,
) %>
