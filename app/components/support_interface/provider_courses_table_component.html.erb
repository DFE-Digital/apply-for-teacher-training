<table class="govuk-table">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header">Cycle</th>
      <th scope="col" class="govuk-table__header">Course</th>
      <% if providers_vary? %>
        <th scope="col" class="govuk-table__header">Provider</th>
      <% end %>
      <th scope="col" class="govuk-table__header">Status</th>
      <% if accredited_bodies_vary? %>
        <th scope="col" class="govuk-table__header">Accredited body</th>
      <% end %>
    </tr>
  </thead>

  <tbody class="govuk-table__body">
    <% course_rows.each do |course| %>
      <tr class="govuk-table__row" data-qa="course-<%= course[:id] %>">
        <td class="govuk-table__cell"><%= course[:recruitment_cycle_year] %></td>
        <td class="govuk-table__cell"><%= course[:course_link] %></td>
        <% if providers_vary? %>
          <td class="govuk-table__cell"><%= course[:provider_link] %></td>
        <% end %>
        <td class="govuk-table__cell">
          <%= course[:status_tag] %>
        </td>
        <% if accredited_bodies_vary? && course[:accredited_body] %>
          <td class="govuk-table__cell"><%= course[:accredited_body] %>
            <% unless course[:accredited_body_onboarded] %>
              <br>
              (No users on Apply)
            <% end %>
          </td>
        <% else %>
          <td class="govuk-table__cell"></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
