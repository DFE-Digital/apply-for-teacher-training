<% if table_rows.any? %>
  <table class="govuk-table">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">Email address</th>
        <th scope="col" class="govuk-table__header">Status of latest application</th>
        <th scope="col" class="govuk-table__header">Last updated</th>
      </tr>
    </thead>

    <tbody class="govuk-table__body">
      <% table_rows.each do |table_row| %>
        <tr class="govuk-table__row" data-qa="candidate-<%= table_row[:candidate_id] %>">
          <td class="govuk-table__cell">
            <%= table_row[:candidate_link] %> <%= table_row[:apply_again] ? '(Apply again)' : '' %>
          </td>
          <td class="govuk-table__cell"><%= t "candidate_flow_application_states.#{table_row[:candidate_flow_application_state]}.name" %></td>
          <td class="govuk-table__cell"><%= table_row[:updated_at] %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="govuk-body">No candidates found</p>
<% end %>
