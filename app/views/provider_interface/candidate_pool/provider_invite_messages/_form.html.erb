<%= form_with model: @pool_invite, url: do |f| %>
  <%= f.govuk_error_summary %>

  <%= f.hidden_field :return_to, value: params[:return_to] || @pool_invite.return_to %>
  <%= f.govuk_radio_buttons_fieldset :provider_message, legend: { text: t('.title'), size: 'l', class: 'govuk-!-margin-bottom-6' } do %>
    <%= render 'invitation_email' %>

    <%= f.govuk_radio_button :provider_message, true, label: { text: 'Yes' }, link_errors: true do %>
      <%= f.govuk_text_area(
        :message_content,
        label: { text: t('.enter_message'), size: 's', class: 'govuk-!-margin-bottom-3' },
        hint: -> { render 'formatting_information' },
        max_words: 200,
      ) %>
    <% end %>
    <%= f.govuk_radio_button :provider_message, false, label: { text: 'No' } %>
  <% end %>

  <%= f.govuk_submit %>
<% end %>
