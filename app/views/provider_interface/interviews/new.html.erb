<% content_for :browser_title, title_with_error_prefix(t('.title'), @wizard.errors.any?) %>
<% content_for :before_content, govuk_back_link_to(provider_interface_application_choice_interviews_path(@application_choice)) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

      <span class="govuk-caption-l"><%= @application_choice.application_form.full_name %></span>
      <h1 class="govuk-heading-l"><%= t('.title') %></h1>

      <% if @application_choice.application_form.interview_preferences.present? %>
        <div class="app-banner app-banner--details">
          <h2 class="govuk-heading-m govuk-!-margin-bottom-2"><%= t('.interview_preferences.title') %></h2>
          <p class="govuk-body"><%= @application_choice.application_form.interview_preferences %></p>
        </div>
      <% end %>

      <%= form_with model: @wizard,
          url: new_check_provider_interface_application_choice_interviews_path(@application_choice),
          method: :get do |f| %>

      <%= f.govuk_error_summary %>

      <%= f.govuk_date_field :date, legend: { size: 'm' } %>

      <%= f.govuk_text_field :time, width: 5, label: { size: 'm' } %>

      <% if @wizard.multiple_application_providers? %>
        <%= f.govuk_radio_buttons_fieldset :provider_id, legend: { text: 'Organisation carrying out interview', size: 'm' } do %>
          <% @wizard.application_providers.each do |provider| %>
            <%= f.govuk_radio_button :provider_id, provider.id, label: { text: provider.name } %>
          <% end %>
        <% end %>
      <% end %>

      <%= f.govuk_text_area :location, label: { size: 'm' } %>

      <%= f.govuk_text_area :additional_details, label: { size: 'm' } %>

      <%= f.govuk_submit 'Continue' %>
    <% end %>

    <p class="govuk-body"><%= govuk_link_to 'Cancel', provider_interface_application_choice_interviews_path(@application_choice) %></p>
  </div>
</div>
