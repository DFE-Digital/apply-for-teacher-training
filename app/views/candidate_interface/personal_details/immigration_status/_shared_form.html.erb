<%= f.govuk_error_summary %>

<% if @form.eu_nationality? %>
  <%= f.govuk_radio_buttons_fieldset(
    :immigration_status,
    legend: { text: t('page_titles.immigration_status'), size: 'l' },
  ) do %>
    <%= f.govuk_radio_button :immigration_status, 'eu_settled', label: { text: 'EU settled status' }, link_errors: true %>
    <%= f.govuk_radio_button :immigration_status, 'eu_pre_settled', label: { text: 'EU pre-settled status' } %>
    <%= f.govuk_radio_divider 'or' %>
    <%= f.govuk_radio_button :immigration_status, 'other', label: { text: 'Other' } do %>
      <%= f.govuk_text_field(:right_to_work_or_study_details, label: { text: 'Enter immigration status' }) %>
    <% end %>
  <% end %>
<% else %>

  <h1 class="govuk-heading-l">Visa or immigration status</h1>

  <%= f.hidden_field :immigration_status, value: 'other' %>
  <%= f.govuk_radio_buttons_fieldset :right_to_work_or_study_details,
    legend: { text: 'Select your visa or immigration status' } do %>
      <%= f.govuk_radio_button :immigration_status, :indefinite_leave_to_remain_in_the_uk, label: { text: 'Indefinite leave to remain in the UK' } %>
      <%= f.govuk_radio_button :immigration_status, :student_visa, label: { text: 'Student visa' } %>
      <%= f.govuk_radio_button :immigration_status, :graduate_visa, label: { text: 'Graduate visa' } %>
      <%= f.govuk_radio_button :immigration_status, :skilled_worker_visa, label: { text: 'Skilled Worker visa' } %>
      <%= f.govuk_radio_button :immigration_status, :dependent_on_partners_student_visa_or_dependent_on_partners_skilled_worker_visa, label: { text: 'Dependent on partner’s student visa or dependent on partner’s Skilled Worker visa' } %>
      <%= f.govuk_radio_button :immigration_status, :family_visa, label: { text: 'Family visa' } %>
      <%= f.govuk_radio_button :immigration_status, :british_national_overseas_visa, label: { text: 'British National (Overseas) visa' } %>
      <%= f.govuk_radio_button :immigration_status, :uk_ancestry_visa, label: { text: 'UK Ancestry visa' } %>
      <%= f.govuk_radio_button :immigration_status, :high_potential_individual_visa, label: { text: 'High Potential Individual visa' } %>
      <%= f.govuk_radio_button :immigration_status, :youth_mobility_scheme, label: { text: 'Youth Mobility Scheme' } %>
      <%= f.govuk_radio_button :immigration_status, :india_young_professionals_scheme_visa, label: { text: 'India Young Professionals Scheme visa' } %>
      <%= f.govuk_radio_button :immigration_status, :ukraine_family_scheme_or_ukraine_sponsorship_scheme_visa, label: { text: 'Ukraine Family Scheme or Ukraine Sponsorship Scheme visa' } %>
      <%= f.govuk_radio_button :immigration_status, :afghan_citizens_resettlement_scheme_or_afghan_relocations_and_assistance_policy, label: { text: 'Afghan citizens resettlement scheme or Afghan Relocations and Assistance Policy' } %>
      <%= f.govuk_radio_button :immigration_status, :refugee_status, label: { text: 'Refugee Status' } %>
      <%= f.govuk_radio_divider 'or' %>

      <%= f.govuk_radio_button :immigration_status, :other, label: { text: 'Other' } do %>
        <%= f.govuk_text_field(:right_to_work_or_study_details, label: { text: 'Enter visa type or immigration status' }) %>
      <% end %>

  <% end %>
<% end %>
<%= f.govuk_submit t('save_and_continue') %>
